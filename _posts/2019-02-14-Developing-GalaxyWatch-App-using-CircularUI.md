---
title:  "Developing Galaxy Watch App using CircularUI"
search: true
categories: Wearables
last_modified_at: 2019-02-15
author: Jeongkyun Pu
toc: true
toc_label: Developing Galaxy Watch App using CircularUI
---

There are three types of application model in Tizen .NET App. **Elmsharp and NUI and Xamarin.Forms** . Each types have different UIFW. For more information, please refer to [Creating an Application]({{site.url}}{{site.baseurl}}/guides/create-wearableapp#creating-a-project).

In this post, I will show you how to create a Tizen Xamarin.Forms App for Galaxy Watch and deploy and launch the App on a wearable emulator.
And also, I will show you how to use **Tizen.Wearable.CircularUI** which is specialized for Galaxy Watch's small and circle display. Tizen.Wearable.CircularUI is the Xamarin.Forms extension for Tizen .NET wearable App. Please refer to [Tizen.Wearable.CircularUI git](https://github.com/Samsung/Tizen.CircularUI) and [Tizen.Wearable.CircularUI guide](https://samsung.github.io/Tizen.CircularUI/index.html).

Before you get started with developing Tizen applications, set up the [development environment]({{site.url}}{{site.baseurl}}/guides/environment).

## Creating Tizen wearable project

Launch Visual Studio. In the Visual studio menu, select **File > New > Project>select Tizen 4.0** . Select the **Tizen Wearable App** template or the **Tizen Wearable XAML App** template when Tizen Project Wizard pop-up window appears.

_**If you select Tizen 5.0 for your application. It can be installed in Tizen devices whose platform version is Tizen 5.0 or above. For more compatility, I selected Tizen 4.0.**_

In this post, select  **Tizen Wearable XAML App**.
Define the project properties and click OK. You can enter the name, location, and solution name.

![create_wearable_project][create_project]

Xamarin.Forms and Tizen.Wearable.CircularUI have been added in generated project.

![dependency][project_dependency]

## Enhancing Application using CircularUI

In this post, I will briefly show the use of **CircleListView, Check, CirclePage** while UI Controls of **CircularUI**.
For more information on how to use the various UI Controls, please refer to the [CircularUI guide](https://samsung.github.io/Tizen.CircularUI/guide/Overview.html).



### Adding CircleListView in CirclePage

The following shows the XAML code of `MainPage.xml` file, generated by the template. It has only one label in a StackLayout.

```xml
<?xml version="1.0" encoding="utf-8" ?>
<c:CirclePage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:c="clr-namespace:Tizen.Wearable.CircularUI.Forms;assembly=Tizen.Wearable.CircularUI.Forms"
             x:Class="TizenWearableXamlApp1.MainPage">
  <c:CirclePage.Content>
    <StackLayout>
      <Label Text="Welcome to Xamarin.Forms!"
          VerticalOptions="CenterAndExpand"
          HorizontalOptions="CenterAndExpand" />
    </StackLayout>
  </c:CirclePage.Content>
</c:CirclePage>
```

The following example shows you how to add [CircleListView](https://samsung.github.io/Tizen.CircularUI/guide/CircleListView.html) in [CirclePage](https://samsung.github.io/Tizen.CircularUI/guide/CirclePage.html).

Remove the Label and add the CircleListView. In this example, ListView `ItemSource` set a list of strings. You can change ListView ItemSource using [Data Binding](https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/data-binding/).

This CircleListView has 10 items and a Header. Item's Cell is a TextCell. Header Layout is defined in `HeaderTemplate`. Almost all of the code is the same as in the case of ListView in Xamarin.Forms, because CircleListView inherits ListView. Some difference exists in CirclePage, `RotaryFocusObject` was set as CircleListView's name. If you don't set `RotaryFocusObject` property,
the curcular scroll bar on the right side of the display doesn't appear and CircleListView can't receive **[bezel-interaction](https://developer.samsung.com/galaxy-watch/design/interaction/bezel-interaction)**. The following figure 1 is a screen capture with the RotaryFocusObject set, and figure 2 is without it.

>**Some CircularUI Controls (CircleListView, [CircleDateTimeSelector](https://samsung.github.io/Tizen.CircularUI/guide/CircleDateTimeSelector.html), [CircleScrollView](https://samsung.github.io/Tizen.CircularUI/guide/CircleScrollView.html), [CircleStepper](https://samsung.github.io/Tizen.CircularUI/guide/CircleStepper.html), [CircleSliderSurfaceItem](https://samsung.github.io/Tizen.CircularUI/guide/CirclePage.html#add-circleslidersurfaceitem-in-circlepage)) should be set `RotaryFocusObject` in CirclePage.**


 |![figure1][listview_with_circle_object]|![figure2][listview_without_circle_object]|
 |:-------------------------------------:|:----------------------------------------:|
 |                 figure 1              |                  figure 2                |


```xml
<?xml version="1.0" encoding="utf-8" ?>
<c:CirclePage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:sys="clr-namespace:System;assembly=netstandard"
             xmlns:c="clr-namespace:Tizen.Wearable.CircularUI.Forms;assembly=Tizen.Wearable.CircularUI.Forms"
             x:Class="TizenWearableXamlApp1.MainPage"
             RotaryFocusObject="{x:Reference mylist}">
    <c:CirclePage.Content>
        <c:CircleListView x:Name="mylist"  ItemTapped="OnItemTapped">
            <c:CircleListView.ItemsSource>
                <x:Array x:Key="array" Type="{x:Type sys:String}">
                    <x:String>Item 1</x:String>
                    <x:String>Item 2</x:String>
                    <x:String>Item 3</x:String>
                    <x:String>Item 4</x:String>
                    <x:String>Item 5</x:String>
                    <x:String>Item 6</x:String>
                    <x:String>Item 7</x:String>
                    <x:String>Item 8</x:String>
                    <x:String>Item 9</x:String>
                    <x:String>Item 10</x:String>
                </x:Array>
            </c:CircleListView.ItemsSource>
            <c:CircleListView.Header>
                <x:String>Header</x:String>
            </c:CircleListView.Header>
            <c:CircleListView.ItemTemplate>
                <DataTemplate>
                    <TextCell Text="{Binding .}" />
                </DataTemplate>
            </c:CircleListView.ItemTemplate>
            <c:CircleListView.HeaderTemplate>
                <DataTemplate>
                    <Label
                        FontAttributes="Bold"
                        HorizontalTextAlignment="Center"
                        Text="{Binding .}"
                        TextColor="Red" />
                </DataTemplate>
            </c:CircleListView.HeaderTemplate>
        </c:CircleListView>
    </c:CirclePage.Content>
</c:CirclePage>
```

### Creating Custom Cell using Check

In the above example, TextCell was used for displaying text for each item. It is simplest way to display of ListView Cell. The following example shows you how to create [Custom cell](https://docs.microsoft.com/en-us/xamarin/xamarin-forms/user-interface/listview/customizing-cell-appearance#custom-cells) using [ViewCell](https://docs.microsoft.com/en-us/dotnet/api/xamarin.forms.viewcell?view=xamarin-forms) and [Check](https://samsung.github.io/Tizen.CircularUI/guide/Check.html).

- All custom cells must derive from ViewCell. Add `ViewCell` inside a `DataTemplate`, which is inside `ListView.ItemTemplate`.
- Inside the `ViewCell`, layout can be managed by any Xamarin.Forms layout. Add `Horizontal` value to `Orientation` for displaying `Label` and `Check` horizontally.
- Add `Label` for display text binding `ItemSource`. And add `Check` Control which is Tizen wearable specific `CheckBox widget`. `Check` supports 3 styles of DisplayStyle (`Default`, `Onoff`, `Small`). Each shape of `DisplayStyle` depends on the Tizen wearable device.

```xml
            <c:CircleListView.ItemTemplate>
                <DataTemplate>
                    <ViewCell>
                        <StackLayout HeightRequest="120" Orientation="Horizontal">
                            <Label
                                HorizontalOptions="CenterAndExpand"
                                Text="{Binding .}"
                                VerticalOptions="Center" />
                            <c:Check
                                DisplayStyle="Default"
                                HorizontalOptions="CenterAndExpand"
                                IsToggled="False" />
                        </StackLayout>
                    </ViewCell>
                </DataTemplate>
            </c:CircleListView.ItemTemplate>
```

The following figure shows the screenshot in emulator created above code.<br/>
I have used the **wearable-4.0-circle-x86 emulator**. If you have another version of emulator or real target, `Check`'s shape can be different to figure's `Check`'s shape.

![custom_cell][listview_with_custom_cell]

### Changing CircleListView Header style

In the above example, the header's text size is smaller than the item's text because CircleListView has the fisheye effect. The Center Item is bigger than the item above and the item below.
If you want to show bigger text size and cancel the fisheye effect, add `CircleListView.CancelEffect` in header's `Label` and then set `false` value.

```xml
            <c:CircleListView.HeaderTemplate>
                <DataTemplate>
                    <Label
                        c:CircleListView.CancelEffect="True"
                        FontAttributes="Bold"
                        HorizontalTextAlignment="Center"
                        VerticalTextAlignment="Center"
                        Text="{Binding .}"
                        TextColor="Red" />
                </DataTemplate>
            </c:CircleListView.HeaderTemplate>
```

The following figure shows the screenshot in emulator created above code.

![header_no_fisheye][listview_with_header_no_fisheye]

### Adding bottom button in the CirclePage

If you want to add a button such as done or cancel, you can use [ActionButtonItem](https://samsung.github.io/Tizen.CircularUI/api/Tizen.Wearable.CircularUI.Forms.ActionButtonItem.html) of the [CirclePage](https://samsung.github.io/Tizen.CircularUI/guide/CirclePage.html). `ActionButtonItem` is placed at the bottom of the display and has a semicircular shape.
You can bind [Command](https://docs.microsoft.com/en-us/dotnet/api/xamarin.forms.command?view=xamarin-forms) which is invoked on activation after clicking the button.

```xml
            <c:CircleListView.HeaderTemplate>
                <DataTemplate>
                    <Label
                        c:CircleListView.CancelEffect="True"
                        FontAttributes="Bold"
                        HorizontalTextAlignment="Center"
                        VerticalTextAlignment="Center"
                        Text="{Binding .}"
                        TextColor="Red" />
                </DataTemplate>
            </c:CircleListView.HeaderTemplate>
        </c:CircleListView>
    </c:CirclePage.Content>
    <c:CirclePage.ActionButton>
        <c:ActionButtonItem  Text="Done"/>
    </c:CirclePage.ActionButton>
</c:CirclePage>
```
The following figure shows the screenshot created above code.

![bottom_button][listview_with_actionbutton]

## Building the Application

In the Visual Studio menu, select Build > Build Solution. For more detail information, please refer to [Building the Application]({{site.url}}{{site.baseurl}}/guides/create-wearableapp#building-the-application) guide.

## Deploying and Running the Applicaton

To deploy and run the application on the emulator:

1. In the Visual Studio menu, select Tools > Tizen > Tizen Emulator Manager. Alternatively, click Launch Tizen Emulator in the Visual Studio toolbar to launch the Tizen Emulator Manager.

2. In the Emulator Manager, select an emulator from the list and click Launch.
    If no applicable emulator instance exists, [create one](https://developer.tizen.org/development/visual-studio-tools-tizen/tools/emulator-manager#create).

    ![emulator_manager][emul_manager]

3. Once you launch an emulator instance, you can deploy the application by clicking the emulator instance in the Visual Studio toolbar.

    ![deploy_wearable_emul][deploy_wearable]

4. If the deployment is successful, the application launches on the emulator. The following figure shows the application on the wearable emulator.

    ![wearable_emul][wearable_emulator]

[create_project]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/new_project_for_tizen_wearable_app.png
[project_dependency]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/project_dependency.png
[launched_application]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/launched_application.png
[listview_without_circle_object]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_without_circle_object.png
[listview_with_circle_object]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_with_circle_object.png
[listview_with_custom_cell]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_with_custom_cell.png
[listview_with_header_no_fisheye]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_without_fisheye.png
[listview_with_actionbutton]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_with_actionbutton.png
[wearable_emulator]:{{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/wearable_emulator.png
[emul_manager]:{{site.url}}{{site.baseurl}}/assets/images/guides/emul_manager_wearable.png
[deploy_wearable]:{{site.url}}{{site.baseurl}}/assets/images/guides/deploy_wearable.png
